<html>
  <head>
    <meta charset="UTF-8">
    <title>Кабинет врача</title>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

    <link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">
    <script src="semantic/dist/semantic.min.js"></script>
      
    <script>
        const webFrame = require('electron').webFrame;
        webFrame.registerURLSchemeAsPrivileged('file', { bypassCSP: true });
    </script>
      
    <link rel="import" href="manifest.json">
  </head>
  
  <body>
  <div class="ui container">
      <div class="ui secondary orange inverted very padded segment" style="border-radius: 20px; position: relative; top: 40px; margin-bottom: 50px">
          <h2 class="ui center aligned icon header">
              <i class="circular heartbeat icon"></i>
              Расписание
          </h2>

          <table class="ui celled table">
              <thead>
              <tr>
                  <th>ФИО пациента</th>
                  <th>Время приема</th>
                  <th>Фото</th>
              </tr>
              </thead> 
              <tbody>
                <tr>
                    <td>Марк</td>
                    <td>12:00</td>
                    <td><a href="http://localhost:8080/images/2018.04.25_17:13:26_001.jpeg">Фото</a></td>
                </tr>
              </tbody>
          </table>
      </div>
  </div>

      <button class="ui primary button" style="position: fixed; bottom: 0; width: 100%">
          Выйти
      </button>
  </body>
  <script>
      require('./renderer.js');

      $('.menu .item')
          .tab();
      
  </script>
  <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
  <script>
      // Initialize Firebase
      var config = {
          apiKey: "AIzaSyA6dkZsqREfubEGyxN4yAEyf2P6np_RP6Y",
          authDomain: "infoterminal-7973d.firebaseapp.com",
          databaseURL: "https://infoterminal-7973d.firebaseio.com",
          projectId: "infoterminal-7973d",
          storageBucket: "",
          messagingSenderId: "498398049541"
      };
      firebase.initializeApp(config);
  </script>
  
  <script>
      const messaging = firebase.messaging();
      
      if ('serviceWorker' in navigator) {
          window.addEventListener('load', function() {
              navigator.serviceWorker.register('firebase-messaging-sw.js').then(function(registration) {
                  messaging.useServiceWorker(registration);
                  console.log('ServiceWorker registration successful with scope: ', registration.scope);
              }, function(err) {
                  console.log('ServiceWorker registration failed: ', err);
              });
          });
      }
      messaging.requestPermission()
          .then(function() {
              console.log('Notification permission granted.');
              // console.log(messaging.getToken());
              // return messaging.getToken();
          })
          .catch(function(err) {
              console.log('Unable to get permission to notify.', err);
          });
    </script>
</html>
